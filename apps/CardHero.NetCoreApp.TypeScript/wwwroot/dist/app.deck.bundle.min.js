(window["wj"] = window["wj"] || []).push([[4],{

/***/ "PPXa":
/*!************************************************!*\
  !*** ./ClientApp/components/deck/DeckList.tsx ***!
  \************************************************/
/*! exports provided: DeckList */
/*! exports used: DeckList */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DeckList; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "55Ip");
/* harmony import */ var _styles_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../styles/index */ "ocCX");



function DeckList(props) {
    return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { className: "row" },
        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table", { className: "table table-striped" },
            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead", { className: "thead-inverse" },
                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null,
                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", null, "Name"))),
            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", null, props.decks.map(d => react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", { key: d.id },
                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", { scope: "row" },
                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_styles_index__WEBPACK_IMPORTED_MODULE_2__["Icon"], { icon: "star", className: 'deck-favourite' + (d.isFavourited ? ' enabled' : ''), "data-deck-id": d.id }),
                    ' ',
                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[/* Link */ "b"], { to: '/' + d.id }, d.name))))))));
}


/***/ }),

/***/ "R3mS":
/*!*******************************************************!*\
  !*** ./ClientApp/components/deck/DeckCreateModal.tsx ***!
  \*******************************************************/
/*! exports provided: DeckCreateModal */
/*! exports used: DeckCreateModal */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DeckCreateModal; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-bootstrap */ "vS6h");
/* harmony import */ var _utils_nameof__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/nameof */ "ROx7");



class DeckCreateModal extends react__WEBPACK_IMPORTED_MODULE_0__["Component"] {
    constructor(props) {
        super(props);
        this.state = DeckCreateModal.defaultState;
    }
    onCreated() {
        this.props.onHide();
        if (this.props.onCreated) {
            const { name, description } = this.state;
            this.props.onCreated({ name, description });
        }
    }
    onInputChange(prop, e) {
        const newState = {};
        newState[prop] = e.target.value;
        this.setState(newState, () => {
            this.setState({ canSave: this.canSave() });
        });
    }
    canSave() {
        return !!this.state.name;
    }
    onExited() {
        this.setState(DeckCreateModal.defaultState);
    }
    render() {
        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[/* Modal */ "a"], Object.assign({}, this.props, { onExited: () => this.onExited, centered: true }),
            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[/* Modal */ "a"].Header, { closeButton: true },
                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[/* Modal */ "a"].Title, null, "Create Deck")),
            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[/* Modal */ "a"].Body, null,
                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { className: "row" },
                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { className: "container" },
                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("form", { className: "form auto-post" },
                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { className: "form-group" },
                                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", { htmlFor: "mName" }, "Name"),
                                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", { type: "text", id: "mName", className: "form-control", placeholder: "Name", value: this.state.name, onChange: (e) => this.onInputChange(Object(_utils_nameof__WEBPACK_IMPORTED_MODULE_2__[/* nameof */ "a"])('name'), e) })),
                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { className: "form-group" },
                                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", { htmlFor: "mDescription" }, "Description"),
                                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", { type: "text", id: "mDescription", className: "form-control", placeholder: "Description", value: this.state.description, onChange: (e) => this.onInputChange(Object(_utils_nameof__WEBPACK_IMPORTED_MODULE_2__[/* nameof */ "a"])('description'), e) })))))),
            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__[/* Modal */ "a"].Footer, null,
                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", { type: "button", className: "btn btn-secondary", onClick: this.props.onHide }, "Close"),
                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", { type: "button", className: "btn btn-success", onClick: () => this.onCreated(), disabled: !this.state.canSave }, "OK"))));
    }
}
DeckCreateModal.defaultState = {
    name: undefined,
    description: undefined,
    canSave: false
};


/***/ }),

/***/ "RMSQ":
/*!*********************************************!*\
  !*** ./ClientApp/components/deck/index.tsx ***!
  \*********************************************/
/*! no exports provided */
/*! all exports used */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "i8i4");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ "55Ip");
/* harmony import */ var _shared_AppBootstrap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../shared/AppBootstrap */ "Zedm");
/* harmony import */ var _Deck__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Deck */ "SJXr");
/* harmony import */ var _DeckApp__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./DeckApp */ "kz6t");






react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.render(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[/* BrowserRouter */ "a"], { basename: _shared_AppBootstrap__WEBPACK_IMPORTED_MODULE_3__[/* AppBootstrap */ "a"].url('Deck') },
    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[/* Switch */ "d"], null,
        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[/* Route */ "c"], { path: "/", exact: true, component: _DeckApp__WEBPACK_IMPORTED_MODULE_5__[/* DeckApp */ "a"] }),
        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[/* Route */ "c"], { path: "/:id", component: _Deck__WEBPACK_IMPORTED_MODULE_4__[/* Deck */ "a"] }))), _shared_AppBootstrap__WEBPACK_IMPORTED_MODULE_3__[/* AppBootstrap */ "a"].rootElement);


/***/ }),

/***/ "SJXr":
/*!********************************************!*\
  !*** ./ClientApp/components/deck/Deck.tsx ***!
  \********************************************/
/*! exports provided: Deck */
/*! exports used: Deck */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Deck; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "55Ip");
/* harmony import */ var _services_CardCollectionService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/CardCollectionService */ "lynQ");
/* harmony import */ var _services_DeckService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/DeckService */ "qE4i");
/* harmony import */ var _styles_index__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../styles/index */ "ocCX");
/* harmony import */ var _shared_Layout__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../shared/Layout */ "Xvn6");






class Deck extends react__WEBPACK_IMPORTED_MODULE_0__["PureComponent"] {
    constructor(props) {
        super(props);
        this.state = {};
    }
    async populateCollection() {
        const collection = await _services_CardCollectionService__WEBPACK_IMPORTED_MODULE_2__[/* CardCollectionService */ "a"].getCollection();
        this.setState((prevState) => ({
            edit: {
                ...prevState.edit,
                ownedCards: collection
            }
        }));
    }
    async populateDeck(id) {
        const decks = await _services_DeckService__WEBPACK_IMPORTED_MODULE_3__[/* DeckService */ "a"].getDecks({
            ids: [
                id
            ]
        });
        const deck = decks[0];
        this.setState((prevState) => ({
            edit: {
                ...prevState.edit,
                deck: deck
            }
        }));
    }
    async componentDidMount() {
        const deckId = this.props.match.params.id;
        await Promise.all([
            this.populateDeck(deckId),
            this.populateCollection()
        ]);
    }
    async componentWillReceiveProps(nextProps) {
        const deckId = this.props.match.params.id;
        if (nextProps.match.params.id !== deckId) {
            await this.populateDeck(deckId);
        }
    }
    render() {
        const edit = this.state.edit;
        if (!edit) {
            return null;
        }
        const deck = edit.deck;
        if (!deck) {
            return null;
        }
        const ownedCards = edit.ownedCards;
        const usedCards = deck.cards;
        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_shared_Layout__WEBPACK_IMPORTED_MODULE_5__[/* Layout */ "a"], null,
            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { className: "row" },
                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { className: "col-lg-4" },
                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { className: "card" },
                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { className: "card-body" },
                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h4", { className: "card-title" },
                                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[/* Link */ "b"], { to: '/' + deck.id }, deck.name),
                                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_styles_index__WEBPACK_IMPORTED_MODULE_4__["Icon"], { icon: "star", className: 'deck-favourite float-right' + (deck.isFavourited ? ' enabled' : ''), "data-deck-id": deck.id })),
                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", { className: "card-text" }, deck.description)),
                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { className: "card-footer" },
                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", { type: "button", id: "save-deck", className: "btn btn-success pull-right", "data-deck-id": deck.id }, "Save")))),
                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { className: "col-lg-4" },
                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { className: "card" },
                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { className: "card-body" },
                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h4", { className: "card-title" }, "Owned Cards"),
                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { className: "card-text" },
                                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", { id: "owned-cards", className: "ch-cards droppable" }, ownedCards && ownedCards.map(cc => react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", { key: cc.id, className: "ch-card draggable", "data-card-collection-id": cc.id }, cc.card.name))))))),
                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { className: "col-lg-4" },
                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { className: "card" },
                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { className: "card-body" },
                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h4", { className: "card-title" }, "Current Deck"),
                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { className: "card-text" },
                                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", { id: "used-cards", className: "ch-cards droppable", "data-max-cards": deck.maxCards }, usedCards && usedCards.map(cc => react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", { key: cc.id, className: "ch-card draggable", "data-card-collection-id": cc.cardCollectionId }, cc.name))))))))));
    }
}


/***/ }),

/***/ "bH09":
/*!**************************************************!*\
  !*** ./ClientApp/components/deck/DeckSearch.tsx ***!
  \**************************************************/
/*! exports provided: DeckSearch */
/*! exports used: DeckSearch */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DeckSearch; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _services_DeckService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/DeckService */ "qE4i");
/* harmony import */ var _styles_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../styles/index */ "ocCX");
/* harmony import */ var _DeckCreateModal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./DeckCreateModal */ "R3mS");




class DeckSearch extends react__WEBPACK_IMPORTED_MODULE_0__["Component"] {
    constructor(props) {
        super(props);
        this.state = {
            modalShown: false
        };
    }
    async componentDidMount() {
        await this.getDecks();
    }
    async getDecks(e) {
        if (e != null) {
            e.preventDefault();
            e.stopPropagation();
        }
        var decks = await _services_DeckService__WEBPACK_IMPORTED_MODULE_1__[/* DeckService */ "a"].getDecks(this.state);
        if (this.props.onDecksPopulated) {
            this.props.onDecksPopulated(decks);
        }
    }
    onInputChange(prop, e) {
        const newState = {};
        newState[prop] = e.target.value;
        this.setState(newState);
    }
    onSelectChange(prop, e) {
        const newState = {};
        newState[prop] = e.target.value;
        this.setState(newState);
    }
    async onDeckCreated(deck) {
        await _services_DeckService__WEBPACK_IMPORTED_MODULE_1__[/* DeckService */ "a"].createDeck(deck);
        await this.getDecks();
    }
    render() {
        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0__["Fragment"], null,
            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { className: "card" },
                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h4", { className: "card-header" }, "Decks"),
                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("form", { method: "get", className: "search-filter deck-filter" },
                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { className: "card-body" },
                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { className: "form-group" },
                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", { type: "text", name: "name", className: "form-control", placeholder: "Name", value: this.state.name, onChange: (e) => this.onInputChange('name', e) })),
                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { className: "form-group" },
                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("select", { name: "pageSize", className: "form-control", value: this.state.pageSize, onChange: (e) => this.onSelectChange('pageSize', e) },
                                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", { value: "10" }, "10"),
                                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", { value: "25" }, "25"),
                                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", { value: "50" }, "50"),
                                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", { value: "100" }, "100")))),
                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { className: "card-footer" },
                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", { type: "button", className: "btn btn-success auto-modal", onClick: () => this.setState({ modalShown: true }) },
                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_styles_index__WEBPACK_IMPORTED_MODULE_2__["Icon"], { icon: "plus" })),
                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", { type: "submit", className: "btn btn-primary pull-right", onClick: (e) => this.getDecks(e) }, "Filter"),
                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { className: "clearfix" })))),
            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_DeckCreateModal__WEBPACK_IMPORTED_MODULE_3__[/* DeckCreateModal */ "a"], { show: this.state.modalShown, onCreated: (deck) => this.onDeckCreated(deck), onHide: () => this.setState({ modalShown: false }) })));
    }
}


/***/ }),

/***/ "kz6t":
/*!***********************************************!*\
  !*** ./ClientApp/components/deck/DeckApp.tsx ***!
  \***********************************************/
/*! exports provided: DeckApp */
/*! exports used: DeckApp */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DeckApp; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "q1tI");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _shared_Layout__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shared/Layout */ "Xvn6");
/* harmony import */ var _DeckList__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./DeckList */ "PPXa");
/* harmony import */ var _DeckSearch__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./DeckSearch */ "bH09");




class DeckApp extends react__WEBPACK_IMPORTED_MODULE_0__["Component"] {
    constructor(props) {
        super(props);
        this.state = { decks: [] };
    }
    onDecksPopulated(decks) {
        if (true) {
            if (decks != null) {
                decks.forEach(deck => {
                    console.log(deck);
                });
            }
        }
        this.setState({
            decks: decks
        });
    }
    render() {
        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_shared_Layout__WEBPACK_IMPORTED_MODULE_1__[/* Layout */ "a"], { sideContent: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_DeckSearch__WEBPACK_IMPORTED_MODULE_3__[/* DeckSearch */ "a"], { onDecksPopulated: (x) => this.onDecksPopulated(x) }) },
            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_DeckList__WEBPACK_IMPORTED_MODULE_2__[/* DeckList */ "a"], { decks: this.state.decks })));
    }
}


/***/ })

},[["RMSQ",0,1]]]);